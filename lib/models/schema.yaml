FileTb:
  columns:
    url:
      type: Text
      isnull: false
    isAbsolute:
      type: boolean
      default: false
# Related To User Management
User:
  columns:
    firstName: Text
    lastName: Text
    phoneNumber:
      type: Text
      unique: true
    email:
      type: Text
      unique: true
    createdAt:
      type: timestamp
      default: DateTime.now()
    updatedAt:
      type: timestamp
      default: DateTime.now()
Password:
  columns:
    password: Text
    emailOtp: Text
    phoneOtp: Text
    isEmailVerified:
      type: boolean
      default: false
    isPhoneVerified:
      type: boolean
      default: false
    user:
      type: ForeignKey
      references: User
      isnull: false
InfoChangeRequest:
  columns:
    newEmail: Text
    newPhone: Text
    user: 
      type: ForeignKey
      references: User
      isnull: false
    createdAt: 
      type: timestamp
      default: DateTime.now()
UserInterestAndInteraction:
  columns:
    catagory:
      type: ForeignKey
      references: Catagory
      isnull: false
    user:
      type: ForeignKey
      references: User
      isnull: false

# Basic informations and Supporters
Catagory:
  columns:
    name:
      type: Text
      isnull: false
      unique: true
    desc: Text
Brand:
  columns:
    name:
      type: Text
      isnull: false
      unique: true
    catagory:
      type: ForeignKey
      references: Catagory
    desc: Text
Unit:
  columns:
    name:
      type: Text
      isnull: false
      unique: true
Address:
  columns:
    lat: Real
    lng: Real
    plusCode: Text
    sublocality: Text
    locality: Text
    admin1: Text
    admin2: Text
    country: Text
# Specific To businesss
Business:
  columns:
    name:
      type: Text
      isnull: false
    owner:
      type: ForeignKey
      references: User
      isnull: false
      # Choices are SETNULL,CASCADE,SETDEFAULT,PROTECT
      onDelete: CASCADE
    address:
      type: ForeignKey
      references: Address
      isnull: false
      unique: true
    catagory:
      type: ForeignKey
      references: Catagory
    logo: Text
    bgImage: Text
    createdAt:
      type: timestamp
      default: DateTime.now()

  unique_together:
    -
BusinessPrefrences:
  columns:
    business:
      type: ForeignKey
      references: Business
      unique: true
    isAvailableOnline: 
      type: boolean
      default: true
    notifyNewProduct: 
      type: boolean
      default: false
    receiveOrder:
      type: boolean
      default: false
BusinessAcitiviy:
  columns:
    user:
      type: ForeignKey
      references: User
      isnull: false
    action: Text
BusinessReview:
  columns:
    user:
      type: ForeignKey
      references: User
      isnull: false
    business:
      type: ForeignKey
      references: Business
      isnull: false

Product:
  columns:
    name:
      type: Text
      isnull: false
    costPrice:
      type: Real
      isnull: false
    sellingPrice:
      type: Real
      isnull: false
    quantity:
      type: Real
      isnull: false
      default: 0
    business:
      type: ForeignKey
      references: Business
      isnull: false
    brand:
      type: ForeignKey
      references: Brand
    catagory:
      type: ForeignKey
      references: Catagory
    unit:
      type: ForeignKey
      references: Unit
    expireDate:  timestamp
    manDate:  timestamp
    desc: Text

Like:
  columns:
    product:
      type: ForeignKey
      isnull: false
      references: Product
Follow:
  columns:
    business:
      type: ForeignKey
      isnull: false
      references: Business
    user:
      type: ForeignKey
      isnull: false
      references: User

Order:
  columns:
    status: Text
    type: Text
    msg: Text
    business:
      type: ForeignKey
      references: Business
      isnull: false
    user:
      type: ForeignKey
      references: User
      isnull: false
Items:
  columns:
    product:
      type: ForeignKey
      references: Product
      isnull: false
    quantity:
      type: integer
      isnull: false
      default: 0
    order:
      type: ForeignKey
      references: Order
    createdAt:
      type: timestamp
      default: DateTime.now()

Notification:
  columns:
    user:
      type: ForeignKey
      references: User
      isnull: false
    timestamp:
      type: timestamp
      isnull: false
    title:
      type: Text
      isnull: false
    content:
      type: Text
      isnull: false
    type:
      type: Text
      isnull: false
GiftCard:
  columns:
    couponId:
      type: Text
      isnull: false
    owner:
      type: ForeignKey
      references: User
      isnull: false
    createdBy:
      type: ForeignKey
      references: User
    product:
      type: ForeignKey
      references: Product
    business:
      type: ForeignKey
      references: Business
    redeemed:
      type: boolean
      default: false
    expireDate: timestamp

# Managerial Tables
Blocked:
  columns:
    user:
      type: ForeignKey
      references: User
    business:
      type: ForeignKey
      references: Business
    product:
      type: ForeignKey
      references: Product
    endDate: timestamp
Policy:
  columns:
    number: integer
    detail: Text
    createdAt:
      type: timestamp
      isnull: false
      default: DateTime.now()

Report:
  columns:
    policy:
      type: ForeignKey
      references: Policy
    business:
      type: ForeignKey
      isnull: false
      references: Business
    user:
      type: ForeignKey
      isnull: false
      references: User
    violator:
      type: ForeignKey
      references: User
    product:
      type: ForeignKey
      references: Product
    desc: Text
